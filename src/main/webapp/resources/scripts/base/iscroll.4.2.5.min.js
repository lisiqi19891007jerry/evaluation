/*
 * iscroll v4.2.5
 */
(function(Y,a){var U=Math,P=a.createElement("div").style,Q=(function(){var A="t,webkitT,MozT,msT,OT".split(","),$,B=0,_=A.length;for(;B<_;B++){$=A[B]+"ransform";if($ in P)return A[B].substr(0,A[B].length-1)}return false})(),J=Q?"-"+Q.toLowerCase()+"-":"",E=_("transform"),H=_("transitionProperty"),W=_("transitionDuration"),R=_("transformOrigin"),B=_("transitionTimingFunction"),L=_("transitionDelay"),F=(/android/gi).test(navigator.appVersion),N=(/iphone|ipad/gi).test(navigator.appVersion),S=(/hp-tablet/gi).test(navigator.appVersion),$=_("perspective")in P,T="ontouchstart"in Y&&!S,X=Q!==false,I=_("transition")in P,K="onorientationchange"in Y?"orientationchange":"resize",A=T?"touchstart":"mousedown",O=T?"touchmove":"mousemove",b=T?"touchend":"mouseup",Z=T?"touchcancel":"mouseup",D=(function(){if(Q===false)return false;var $={"":"transitionend","webkit":"webkitTransitionEnd","Moz":"transitionend","O":"otransitionend","ms":"MSTransitionEnd"};return $[Q]})(),V=(function(){return Y.requestAnimationFrame||Y.webkitRequestAnimationFrame||Y.mozRequestAnimationFrame||Y.oRequestAnimationFrame||Y.msRequestAnimationFrame||function($){return setTimeout($,1)}})(),M=(function(){return Y.cancelRequestAnimationFrame||Y.webkitCancelAnimationFrame||Y.webkitCancelRequestAnimationFrame||Y.mozCancelRequestAnimationFrame||Y.oCancelRequestAnimationFrame||Y.msCancelRequestAnimationFrame||clearTimeout})(),C=$?" translateZ(0)":"",G=function(D,L){var _=this,G;_.wrapper=typeof D=="object"?D:a.getElementById(D);_.wrapper.style.overflow="hidden";_.scroller=_.wrapper.children[0];_.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:F,hideScrollbar:N,fadeScrollbar:N&&$,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function($){$.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(G in L)_.options[G]=L[G];_.x=_.options.x;_.y=_.options.y;_.options.useTransform=X&&_.options.useTransform;_.options.hScrollbar=_.options.hScroll&&_.options.hScrollbar;_.options.vScrollbar=_.options.vScroll&&_.options.vScrollbar;_.options.zoom=_.options.useTransform&&_.options.zoom;_.options.useTransition=I&&_.options.useTransition;if(_.options.zoom&&F)C="";_.scroller.style[H]=_.options.useTransform?J+"transform":"top left";_.scroller.style[W]="0";_.scroller.style[R]="0 0";if(_.options.useTransition)_.scroller.style[B]="cubic-bezier(0.33,0.66,0.66,1)";if(_.options.useTransform)_.scroller.style[E]="translate("+_.x+"px,"+_.y+"px)"+C;else _.scroller.style.cssText+=";position:absolute;top:"+_.y+"px;left:"+_.x+"px";if(_.options.useTransition)_.options.fixedScrollbar=true;_.refresh();_._bind(K,Y);_._bind(A);if(!T)if(_.options.wheelAction!="none"){_._bind("DOMMouseScroll");_._bind("mousewheel")}if(_.options.checkDOMChanges)_.checkDOMTime=setInterval(function(){_._checkDOMChanges()},500)};G.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(_){var $=this;switch(_.type){case A:if(!T&&_.button!==0)return;$._start(_);break;case O:$._move(_);break;case b:case Z:$._end(_);break;case K:$._resize();break;case"DOMMouseScroll":case"mousewheel":$._wheel(_);break;case D:$._transitionEnd(_);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale))return;this.refresh()},_scrollbar:function(_){var $=this,A;if(!$[_+"Scrollbar"]){if($[_+"ScrollbarWrapper"]){if(X)$[_+"ScrollbarIndicator"].style[E]="";$[_+"ScrollbarWrapper"].parentNode.removeChild($[_+"ScrollbarWrapper"]);$[_+"ScrollbarWrapper"]=null;$[_+"ScrollbarIndicator"]=null}return}if(!$[_+"ScrollbarWrapper"]){A=a.createElement("div");if($.options.scrollbarClass)A.className=$.options.scrollbarClass+_.toUpperCase();else A.style.cssText="position:absolute;z-index:100;"+(_=="h"?"height:7px;bottom:1px;left:2px;right:"+($.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+($.hScrollbar?"7":"2")+"px;top:2px;right:1px");A.style.cssText+=";pointer-events:none;"+J+"transition-property:opacity;"+J+"transition-duration:"+($.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+($.options.hideScrollbar?"0":"1");$.wrapper.appendChild(A);$[_+"ScrollbarWrapper"]=A;A=a.createElement("div");if(!$.options.scrollbarClass)A.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+J+"background-clip:padding-box;"+J+"box-sizing:border-box;"+(_=="h"?"height:100%":"width:100%")+";"+J+"border-radius:3px;border-radius:3px";A.style.cssText+=";pointer-events:none;"+J+"transition-property:"+J+"transform;"+J+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+J+"transition-duration:0;"+J+"transform: translate(0,0)"+C;if($.options.useTransition)A.style.cssText+=";"+J+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";$[_+"ScrollbarWrapper"].appendChild(A);$[_+"ScrollbarIndicator"]=A}if(_=="h"){$.hScrollbarSize=$.hScrollbarWrapper.clientWidth;$.hScrollbarIndicatorSize=U.max(U.round($.hScrollbarSize*$.hScrollbarSize/$.scrollerW),8);$.hScrollbarIndicator.style.width=$.hScrollbarIndicatorSize+"px";$.hScrollbarMaxScroll=$.hScrollbarSize-$.hScrollbarIndicatorSize;$.hScrollbarProp=$.hScrollbarMaxScroll/$.maxScrollX}else{$.vScrollbarSize=$.vScrollbarWrapper.clientHeight;$.vScrollbarIndicatorSize=U.max(U.round($.vScrollbarSize*$.vScrollbarSize/$.scrollerH),8);$.vScrollbarIndicator.style.height=$.vScrollbarIndicatorSize+"px";$.vScrollbarMaxScroll=$.vScrollbarSize-$.vScrollbarIndicatorSize;$.vScrollbarProp=$.vScrollbarMaxScroll/$.maxScrollY}$._scrollbarPos(_,true)},_resize:function(){var $=this;setTimeout(function(){$.refresh()},F?200:0)},_pos:function(_,$){if(this.zoomed)return;_=this.hScroll?_:0;$=this.vScroll?$:0;if(this.options.useTransform)this.scroller.style[E]="translate("+_+"px,"+$+"px) scale("+this.scale+")"+C;else{_=U.round(_);$=U.round($);this.scroller.style.left=_+"px";this.scroller.style.top=$+"px"}this.x=_;this.y=$;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(_,A){var $=this,D=_=="h"?$.x:$.y,B;if(!$[_+"Scrollbar"])return;D=$[_+"ScrollbarProp"]*D;if(D<0){if(!$.options.fixedScrollbar){B=$[_+"ScrollbarIndicatorSize"]+U.round(D*3);if(B<8)B=8;$[_+"ScrollbarIndicator"].style[_=="h"?"width":"height"]=B+"px"}D=0}else if(D>$[_+"ScrollbarMaxScroll"])if(!$.options.fixedScrollbar){B=$[_+"ScrollbarIndicatorSize"]-U.round((D-$[_+"ScrollbarMaxScroll"])*3);if(B<8)B=8;$[_+"ScrollbarIndicator"].style[_=="h"?"width":"height"]=B+"px";D=$[_+"ScrollbarMaxScroll"]+($[_+"ScrollbarIndicatorSize"]-B)}else D=$[_+"ScrollbarMaxScroll"];$[_+"ScrollbarWrapper"].style[L]="0";$[_+"ScrollbarWrapper"].style.opacity=A&&$.options.hideScrollbar?"0":"1";$[_+"ScrollbarIndicator"].style[E]="translate("+(_=="h"?D+"px,0)":"0,"+D+"px)")+C},_start:function(A){var _=this,$=T?A.touches[0]:A,F,H,G,B,C;if(!_.enabled)return;if(_.options.onBeforeScrollStart)_.options.onBeforeScrollStart.call(_,A);if(_.options.useTransition||_.options.zoom)_._transitionTime(0);_.moved=false;_.animating=false;_.zoomed=false;_.distX=0;_.distY=0;_.absDistX=0;_.absDistY=0;_.dirX=0;_.dirY=0;if(_.options.zoom&&T&&A.touches.length>1){B=U.abs(A.touches[0].pageX-A.touches[1].pageX);C=U.abs(A.touches[0].pageY-A.touches[1].pageY);_.touchesDistStart=U.sqrt(B*B+C*C);_.originX=U.abs(A.touches[0].pageX+A.touches[1].pageX-_.wrapperOffsetLeft*2)/2-_.x;_.originY=U.abs(A.touches[0].pageY+A.touches[1].pageY-_.wrapperOffsetTop*2)/2-_.y;if(_.options.onZoomStart)_.options.onZoomStart.call(_,A)}if(_.options.momentum){if(_.options.useTransform){F=getComputedStyle(_.scroller,null)[E].replace(/[^0-9\-.,]/g,"").split(",");H=+(F[12]||F[4]);G=+(F[13]||F[5])}else{H=+getComputedStyle(_.scroller,null).left.replace(/[^0-9-]/g,"");G=+getComputedStyle(_.scroller,null).top.replace(/[^0-9-]/g,"")}if(H!=_.x||G!=_.y){if(_.options.useTransition)_._unbind(D);else M(_.aniTime);_.steps=[];_._pos(H,G);if(_.options.onScrollEnd)_.options.onScrollEnd.call(_)}}_.absStartX=_.x;_.absStartY=_.y;_.startX=_.x;_.startY=_.y;_.pointX=$.pageX;_.pointY=$.pageY;_.startTime=A.timeStamp||Date.now();if(_.options.onScrollStart)_.options.onScrollStart.call(_,A);_._bind(O,Y);_._bind(b,Y);_._bind(Z,Y)},_move:function(D){var B=this,A=T?D.touches[0]:D,J=A.pageX-B.pointX,K=A.pageY-B.pointY,H=B.x+J,I=B.y+K,F,G,_,$=D.timeStamp||Date.now();if(B.options.onBeforeScrollMove)B.options.onBeforeScrollMove.call(B,D);if(B.options.zoom&&T&&D.touches.length>1){F=U.abs(D.touches[0].pageX-D.touches[1].pageX);G=U.abs(D.touches[0].pageY-D.touches[1].pageY);B.touchesDist=U.sqrt(F*F+G*G);B.zoomed=true;_=1/B.touchesDistStart*B.touchesDist*this.scale;if(_<B.options.zoomMin)_=0.5*B.options.zoomMin*Math.pow(2,_/B.options.zoomMin);else if(_>B.options.zoomMax)_=2*B.options.zoomMax*Math.pow(0.5,B.options.zoomMax/_);B.lastScale=_/this.scale;H=this.originX-this.originX*B.lastScale+this.x;I=this.originY-this.originY*B.lastScale+this.y;this.scroller.style[E]="translate("+H+"px,"+I+"px) scale("+_+")"+C;if(B.options.onZoom)B.options.onZoom.call(B,D);return}B.pointX=A.pageX;B.pointY=A.pageY;if(H>0||H<B.maxScrollX)H=B.options.bounce?B.x+(J/2):H>=0||B.maxScrollX>=0?0:B.maxScrollX;if(I>B.minScrollY||I<B.maxScrollY)I=B.options.bounce?B.y+(K/2):I>=B.minScrollY||B.maxScrollY>=0?B.minScrollY:B.maxScrollY;B.distX+=J;B.distY+=K;B.absDistX=U.abs(B.distX);B.absDistY=U.abs(B.distY);if(B.absDistX<6&&B.absDistY<6)return;if(B.options.lockDirection)if(B.absDistX>B.absDistY+5){I=B.y;K=0}else if(B.absDistY>B.absDistX+5){H=B.x;J=0}B.moved=true;B._pos(H,I);B.dirX=J>0?-1:J<0?1:0;B.dirY=K>0?-1:K<0?1:0;if($-B.startTime>300){B.startTime=$;B.startX=B.x;B.startY=B.y}if(B.options.onScrollMove)B.options.onScrollMove.call(B,D)},_end:function(_){if(T&&_.touches.length!==0)return;var H=this,I=T?_.changedTouches[0]:_,L,A,J={dist:0,time:0},G={dist:0,time:0},K=(_.timeStamp||Date.now())-H.startTime,F=H.x,D=H.y,P,N,M,B,$;H._unbind(O,Y);H._unbind(b,Y);H._unbind(Z,Y);if(H.options.onBeforeScrollEnd)H.options.onBeforeScrollEnd.call(H,_);if(H.zoomed){$=H.scale*H.lastScale;$=Math.max(H.options.zoomMin,$);$=Math.min(H.options.zoomMax,$);H.lastScale=$/H.scale;H.scale=$;H.x=H.originX-H.originX*H.lastScale+H.x;H.y=H.originY-H.originY*H.lastScale+H.y;H.scroller.style[W]="200ms";H.scroller.style[E]="translate("+H.x+"px,"+H.y+"px) scale("+H.scale+")"+C;H.zoomed=false;H.refresh();if(H.options.onZoomEnd)H.options.onZoomEnd.call(H,_);return}if(!H.moved){if(T)if(H.doubleTapTimer&&H.options.zoom){clearTimeout(H.doubleTapTimer);H.doubleTapTimer=null;if(H.options.onZoomStart)H.options.onZoomStart.call(H,_);H.zoom(H.pointX,H.pointY,H.scale==1?H.options.doubleTapZoom:1);if(H.options.onZoomEnd)setTimeout(function(){H.options.onZoomEnd.call(H,_)},200)}else if(this.options.handleClick)H.doubleTapTimer=setTimeout(function(){H.doubleTapTimer=null;L=I.target;while(L.nodeType!=1)L=L.parentNode;if(L.tagName!="SELECT"&&L.tagName!="INPUT"&&L.tagName!="TEXTAREA"){A=a.createEvent("MouseEvents");A.initMouseEvent("click",true,true,_.view,1,I.screenX,I.screenY,I.clientX,I.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,0,null);A._fake=true;L.dispatchEvent(A)}},H.options.zoom?250:0);H._resetPos(400);if(H.options.onTouchEnd)H.options.onTouchEnd.call(H,_);return}if(K<300&&H.options.momentum){J=F?H._momentum(F-H.startX,K,-H.x,H.scrollerW-H.wrapperW+H.x,H.options.bounce?H.wrapperW:0):J;G=D?H._momentum(D-H.startY,K,-H.y,(H.maxScrollY<0?H.scrollerH-H.wrapperH+H.y-H.minScrollY:0),H.options.bounce?H.wrapperH:0):G;F=H.x+J.dist;D=H.y+G.dist;if((H.x>0&&F>0)||(H.x<H.maxScrollX&&F<H.maxScrollX))J={dist:0,time:0};if((H.y>H.minScrollY&&D>H.minScrollY)||(H.y<H.maxScrollY&&D<H.maxScrollY))G={dist:0,time:0}}if(J.dist||G.dist){M=U.max(U.max(J.time,G.time),10);if(H.options.snap){P=F-H.absStartX;N=D-H.absStartY;if(U.abs(P)<H.options.snapThreshold&&U.abs(N)<H.options.snapThreshold)H.scrollTo(H.absStartX,H.absStartY,200);else{B=H._snap(F,D);F=B.x;D=B.y;M=U.max(B.time,M)}}H.scrollTo(U.round(F),U.round(D),M);if(H.options.onTouchEnd)H.options.onTouchEnd.call(H,_);return}if(H.options.snap){P=F-H.absStartX;N=D-H.absStartY;if(U.abs(P)<H.options.snapThreshold&&U.abs(N)<H.options.snapThreshold)H.scrollTo(H.absStartX,H.absStartY,200);else{B=H._snap(H.x,H.y);if(B.x!=H.x||B.y!=H.y)H.scrollTo(B.x,B.y,B.time)}if(H.options.onTouchEnd)H.options.onTouchEnd.call(H,_);return}H._resetPos(200);if(H.options.onTouchEnd)H.options.onTouchEnd.call(H,_)},_resetPos:function(_){var $=this,B=$.x>=0?0:$.x<$.maxScrollX?$.maxScrollX:$.x,A=$.y>=$.minScrollY||$.maxScrollY>0?$.minScrollY:$.y<$.maxScrollY?$.maxScrollY:$.y;if(B==$.x&&A==$.y){if($.moved){$.moved=false;if($.options.onScrollEnd)$.options.onScrollEnd.call($)}if($.hScrollbar&&$.options.hideScrollbar){if(Q=="webkit")$.hScrollbarWrapper.style[L]="300ms";$.hScrollbarWrapper.style.opacity="0"}if($.vScrollbar&&$.options.hideScrollbar){if(Q=="webkit")$.vScrollbarWrapper.style[L]="300ms";$.vScrollbarWrapper.style.opacity="0"}return}$.scrollTo(B,A,_||0)},_wheel:function(A){var $=this,B,_,D,E,C;if("wheelDeltaX"in A){B=A.wheelDeltaX/12;_=A.wheelDeltaY/12}else if("wheelDelta"in A)B=_=A.wheelDelta/12;else if("detail"in A)B=_=-A.detail*3;else return;if($.options.wheelAction=="zoom"){C=$.scale*Math.pow(2,1/3*(_?_/Math.abs(_):0));if(C<$.options.zoomMin)C=$.options.zoomMin;if(C>$.options.zoomMax)C=$.options.zoomMax;if(C!=$.scale){if(!$.wheelZoomCount&&$.options.onZoomStart)$.options.onZoomStart.call($,A);$.wheelZoomCount++;$.zoom(A.pageX,A.pageY,C,400);setTimeout(function(){$.wheelZoomCount--;if(!$.wheelZoomCount&&$.options.onZoomEnd)$.options.onZoomEnd.call($,A)},400)}return}D=$.x+B;E=$.y+_;if(D>0)D=0;else if(D<$.maxScrollX)D=$.maxScrollX;if(E>$.minScrollY)E=$.minScrollY;else if(E<$.maxScrollY)E=$.maxScrollY;if($.maxScrollY<0)$.scrollTo(D,E,0)},_transitionEnd:function(_){var $=this;if(_.target!=$.scroller)return;$._unbind(D);$._startAni()},_startAni:function(){var A=this,B=A.x,E=A.y,$=Date.now(),F,_,C;if(A.animating)return;if(!A.steps.length){A._resetPos(400);return}F=A.steps.shift();if(F.x==B&&F.y==E)F.time=0;A.animating=true;A.moved=true;if(A.options.useTransition){A._transitionTime(F.time);A._pos(F.x,F.y);A.animating=false;if(F.time)A._bind(D);else A._resetPos(0);return}C=function(){var D=Date.now(),G,H;if(D>=$+F.time){A._pos(F.x,F.y);A.animating=false;if(A.options.onAnimationEnd)A.options.onAnimationEnd.call(A);A._startAni();return}D=(D-$)/F.time-1;_=U.sqrt(1-D*D);G=(F.x-B)*_+B;H=(F.y-E)*_+E;A._pos(G,H);if(A.animating)A.aniTime=V(C)};C()},_transitionTime:function($){$+="ms";this.scroller.style[W]=$;if(this.hScrollbar)this.hScrollbarIndicator.style[W]=$;if(this.vScrollbar)this.vScrollbarIndicator.style[W]=$},_momentum:function(H,$,D,E,G){var C=0.0006,A=U.abs(H)/$,B=(A*A)/(2*C),_=0,F=0;if(H>0&&B>D){F=G/(6/(B/A*C));D=D+F;A=A*D/B;B=D}else if(H<0&&B>E){F=G/(6/(B/A*C));E=E+F;A=A*E/B;B=E}B=B*(H<0?-1:1);_=A/C;return{dist:B,time:U.round(_)}},_offset:function($){var _=-$.offsetLeft,A=-$.offsetTop;while($=$.offsetParent){_-=$.offsetLeft;A-=$.offsetTop}if($!=this.wrapper){_*=this.scale;A*=this.scale}return{left:_,top:A}},_snap:function(G,E){var $=this,F,D,B,_,C,A;B=$.pagesX.length-1;for(F=0,D=$.pagesX.length;F<D;F++)if(G>=$.pagesX[F]){B=F;break}if(B==$.currPageX&&B>0&&$.dirX<0)B--;G=$.pagesX[B];C=U.abs(G-$.pagesX[$.currPageX]);C=C?U.abs($.x-G)/C*500:0;$.currPageX=B;B=$.pagesY.length-1;for(F=0;F<B;F++)if(E>=$.pagesY[F]){B=F;break}if(B==$.currPageY&&B>0&&$.dirY<0)B--;E=$.pagesY[B];A=U.abs(E-$.pagesY[$.currPageY]);A=A?U.abs($.y-E)/A*500:0;$.currPageY=B;_=U.round(U.max(C,A))||200;return{x:G,y:E,time:_}},_bind:function(A,_,$){(_||this.scroller).addEventListener(A,this,!!$)},_unbind:function(A,_,$){(_||this.scroller).removeEventListener(A,this,!!$)},destroy:function(){var $=this;$.scroller.style[E]="";$.hScrollbar=false;$.vScrollbar=false;$._scrollbar("h");$._scrollbar("v");$._unbind(K,Y);$._unbind(A);$._unbind(O,Y);$._unbind(b,Y);$._unbind(Z,Y);if(!$.options.hasTouch){$._unbind("DOMMouseScroll");$._unbind("mousewheel")}if($.options.useTransition)$._unbind(D);if($.options.checkDOMChanges)clearInterval($.checkDOMTime);if($.options.onDestroy)$.options.onDestroy.call($)},refresh:function(){var $=this,B,E,A,C,D=0,_=0;if($.scale<$.options.zoomMin)$.scale=$.options.zoomMin;$.wrapperW=$.wrapper.clientWidth||1;$.wrapperH=$.wrapper.clientHeight||1;$.minScrollY=-$.options.topOffset||0;$.scrollerW=U.round($.scroller.offsetWidth*$.scale);$.scrollerH=U.round(($.scroller.offsetHeight+$.minScrollY)*$.scale);$.maxScrollX=$.wrapperW-$.scrollerW;$.maxScrollY=$.wrapperH-$.scrollerH+$.minScrollY;$.dirX=0;$.dirY=0;if($.options.onRefresh)$.options.onRefresh.call($);$.hScroll=$.options.hScroll&&$.maxScrollX<0;$.vScroll=$.options.vScroll&&(!$.options.bounceLock&&!$.hScroll||$.scrollerH>$.wrapperH);$.hScrollbar=$.hScroll&&$.options.hScrollbar;$.vScrollbar=$.vScroll&&$.options.vScrollbar&&$.scrollerH>$.wrapperH;B=$._offset($.wrapper);$.wrapperOffsetLeft=-B.left;$.wrapperOffsetTop=-B.top;if(typeof $.options.snap=="string"){$.pagesX=[];$.pagesY=[];C=$.scroller.querySelectorAll($.options.snap);for(E=0,A=C.length;E<A;E++){D=$._offset(C[E]);D.left+=$.wrapperOffsetLeft;D.top+=$.wrapperOffsetTop;$.pagesX[E]=D.left<$.maxScrollX?$.maxScrollX:D.left*$.scale;$.pagesY[E]=D.top<$.maxScrollY?$.maxScrollY:D.top*$.scale}}else if($.options.snap){$.pagesX=[];while(D>=$.maxScrollX){$.pagesX[_]=D;D=D-$.wrapperW;_++}if($.maxScrollX%$.wrapperW)$.pagesX[$.pagesX.length]=$.maxScrollX-$.pagesX[$.pagesX.length-1]+$.pagesX[$.pagesX.length-1];D=0;_=0;$.pagesY=[];while(D>=$.maxScrollY){$.pagesY[_]=D;D=D-$.wrapperH;_++}if($.maxScrollY%$.wrapperH)$.pagesY[$.pagesY.length]=$.maxScrollY-$.pagesY[$.pagesY.length-1]+$.pagesY[$.pagesY.length-1]}$._scrollbar("h");$._scrollbar("v");if(!$.zoomed){$.scroller.style[W]="0";$._resetPos(400)}},scrollTo:function(F,D,_,B){var $=this,C=F,E,A;$.stop();if(!C.length)C=[{x:F,y:D,time:_,relative:B}];for(E=0,A=C.length;E<A;E++){if(C[E].relative){C[E].x=$.x-C[E].x;C[E].y=$.y-C[E].y}$.steps.push({x:C[E].x,y:C[E].y,time:C[E].time||0})}$._startAni()},scrollToElement:function(A,_){var $=this,B;A=A.nodeType?A:$.scroller.querySelector(A);if(!A)return;B=$._offset(A);B.left+=$.wrapperOffsetLeft;B.top+=$.wrapperOffsetTop;B.left=B.left>0?0:B.left<$.maxScrollX?$.maxScrollX:B.left;B.top=B.top>$.minScrollY?$.minScrollY:B.top<$.maxScrollY?$.maxScrollY:B.top;_=_===undefined?U.max(U.abs(B.left)*2,U.abs(B.top)*2):_;$.scrollTo(B.left,B.top,_)},scrollToPage:function(A,D,_){var $=this,C,B;_=_===undefined?400:_;if($.options.onScrollStart)$.options.onScrollStart.call($);if($.options.snap){A=A=="next"?$.currPageX+1:A=="prev"?$.currPageX-1:A;D=D=="next"?$.currPageY+1:D=="prev"?$.currPageY-1:D;A=A<0?0:A>$.pagesX.length-1?$.pagesX.length-1:A;D=D<0?0:D>$.pagesY.length-1?$.pagesY.length-1:D;$.currPageX=A;$.currPageY=D;C=$.pagesX[A];B=$.pagesY[D]}else{C=-$.wrapperW*A;B=-$.wrapperH*D;if(C<$.maxScrollX)C=$.maxScrollX;if(B<$.maxScrollY)B=$.maxScrollY}$.scrollTo(C,B,_)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(O,Y);this._unbind(b,Y);this._unbind(Z,Y)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition)this._unbind(D);else M(this.aniTime);this.steps=[];this.moved=false;this.animating=false},zoom:function(F,D,_,A){var $=this,B=_/$.scale;if(!$.options.useTransform)return;$.zoomed=true;A=A===undefined?200:A;F=F-$.wrapperOffsetLeft-$.x;D=D-$.wrapperOffsetTop-$.y;$.x=F-F*B+$.x;$.y=D-D*B+$.y;$.scale=_;$.refresh();$.x=$.x>0?0:$.x<$.maxScrollX?$.maxScrollX:$.x;$.y=$.y>$.minScrollY?$.minScrollY:$.y<$.maxScrollY?$.maxScrollY:$.y;$.scroller.style[W]=A+"ms";$.scroller.style[E]="translate("+$.x+"px,"+$.y+"px) scale("+_+")"+C;$.zoomed=false},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};function _($){if(Q==="")return $;$=$.charAt(0).toUpperCase()+$.substr(1);return Q+$}P=null;if(typeof exports!=="undefined")exports.iScroll=G;else Y.iScroll=G})(window,document)